<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="model_account_move_action_create_inherit_luonto" model="ir.actions.server">
        <field name="name">Create Vendor Bills</field>
        <field name="model_id" ref="account.model_account_move"/>
        <field name="binding_model_id" ref="account.model_account_move"/>
        <field name="binding_view_types">list</field>
        <field name="state">code</field>
        <field name="code"><![CDATA[
for rec in env['account.move'].search([]):
    if rec.invoice_origin and not rec.v_bill_id and rec.state == 'posted':
        rec.action_post()
        for line in rec.v_bill_id.line_ids:
            line.write({'date_maturity' = rec.invoice_date_due})
]]>
        </field>
    </record>
</odoo>